"use strict";function Dice(){this.gamePlaying=!1,this.activePlayer=0,this.scores=[],this.currentAmount=0,this.total=[0,0],this.nextBtn=document.querySelector("#js-btn__roll"),this.holdBtn=document.querySelector("#js-btn__hold"),this.newBtn=document.querySelector("#js-btn__new"),this.newGame=function(){if(!this.gamePlaying){for(var t=0;t<=1;t++)document.querySelector("#js-scores-"+t).textContent="0",document.querySelector("#js-name-"+this.activePlayer).innerText="Player "+(this.activePlayer+1),document.querySelector("#js-total-"+t).textContent="0",this.currentAmount=0,this.total=[0,0];this.gamePlaying=!0,this.newBtn.classList.toggle("rotation")}},this.holdScores=function(){if(this.gamePlaying){this.total[this.activePlayer]+=this.currentAmount;var t,e=document.querySelector("#js-input").value;t=t=e||100,this.total[this.activePlayer]>=t?this.winner():(document.querySelector("#js-total-"+this.activePlayer).textContent=this.total[this.activePlayer],this.nextPlayer())}},this.nextRoll=function(){if(this.gamePlaying){console.log(this.activePlayer),document.querySelector("#js-player-"+this.activePlayer).classList.add("active"),document.querySelector("#js-btn__roll").classList.toggle("roll");for(var t,e=[],i=0;i<=1;i++)t=this.calcDice(),document.querySelector("#js-dice-"+(i+1)).src="img/dice-"+t+".png",e.push(t);var c=e[0]+e[1];this.currentAmount+=c,1==e[0]||1==e[1]?(this.nextPlayer(),console.log(1)):12==c?(document.querySelector("#js-scores-"+this.activePlayer).textContent=this.currentAmount,this.holdScores(),console.log(12)):document.querySelector("#js-scores-"+this.activePlayer).textContent=this.currentAmount}},this.nextPlayer=function(){document.querySelector("#js-player-"+this.activePlayer).classList.remove("active"),this.currentAmount=0,(document.querySelector("#js-scores-"+this.activePlayer).textContent=0)===this.activePlayer?this.activePlayer=1:this.activePlayer=0,this.activePlayer?document.querySelector(".dice__cover").style.left="50%":document.querySelector(".dice__cover").style.left="0%",document.querySelector("#js-player-"+this.activePlayer).classList.add("active")},this.winner=function(){document.querySelector("#js-total-"+this.activePlayer).textContent=this.total[this.activePlayer],document.querySelector("#js-name-"+this.activePlayer).textContent="WINNER!",document.querySelector("#js-scores-"+this.activePlayer).textContent="0",this.newBtn.classList.remove("rotation"),this.gamePlaying=!1},this.calcDice=function(){return Math.floor(6*Math.random()+1)}}var dice=new Dice;dice.nextBtn.addEventListener("click",dice.nextRoll.bind(dice)),dice.holdBtn.addEventListener("click",dice.holdScores.bind(dice)),dice.newBtn.addEventListener("click",dice.newGame.bind(dice));